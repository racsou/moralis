(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[176],{54758:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return n(16514)}])},16514:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return f}});var i,s=n(85893),a=n(60001),o=n(80647),c=n(42814),h=n(56371),r=class extends a._{constructor({chains:t,options:e}={}){let n={name:"MetaMask",shimDisconnect:!0,shimChainChangedDisconnect:!0,getProvider(){function t(t){let e=!!t?.isMetaMask;if(e&&(!t.isBraveWallet||t._events||t._state)&&!t.isApexWallet&&!t.isAvalanche&&!t.isKuCoinWallet&&!t.isPortal&&!t.isTokenPocket&&!t.isTokenary)return t}if("undefined"==typeof window)return;let e=window.ethereum;return e?.providers?e.providers.find(t):t(e)},...e};super({chains:t,options:n}),(0,o.ov)(this,"id","metaMask"),(0,o.ov)(this,"shimDisconnectKey",`${this.id}.shimDisconnect`),(0,o.Ko)(this,i,void 0),(0,o.qx)(this,i,n.UNSTABLE_shimOnConnectSelectAccount)}async connect({chainId:t}={}){try{let e=await this.getProvider();if(!e)throw new c.Nu;e.on&&(e.on("accountsChanged",this.onAccountsChanged),e.on("chainChanged",this.onChainChanged),e.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});let n=null;if((0,o.ac)(this,i)&&this.options?.shimDisconnect&&!c.s3().storage?.getItem(this.shimDisconnectKey)){n=await this.getAccount().catch(()=>null);let t=!!n;if(t)try{await e.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]}),n=await this.getAccount()}catch(t){if(this.isUserRejectedRequestError(t))throw new c.ab(t)}}if(!n){let t=await e.request({method:"eth_requestAccounts"});n=(0,h.getAddress)(t[0])}let s=await this.getChainId(),a=this.isChainUnsupported(s);if(t&&s!==t){let e=await this.switchChain(t);s=e.id,a=this.isChainUnsupported(s)}return this.options?.shimDisconnect&&c.s3().storage?.setItem(this.shimDisconnectKey,!0),{account:n,chain:{id:s,unsupported:a},provider:e}}catch(t){if(this.isUserRejectedRequestError(t))throw new c.ab(t);if(-32002===t.code)throw new c.TA(t);throw t}}};i=new WeakMap;var u=n(33299),d=n(57421),l=n(11163),w=n(48719),f=function(){let{connectAsync:t}=(0,d.$4)(),{disconnectAsync:e}=(0,d.qL)(),{isConnected:n}=(0,d.mA)(),{signMessageAsync:i}=(0,d.QW)(),{requestChallengeAsync:a}=(0,w.useAuthRequestChallengeEvm)(),{push:o}=(0,l.useRouter)(),c=async()=>{n&&await e();let{account:s,chain:c}=await t({connector:new r}),{message:h}=await a({address:s,chainId:c.id}),d=await i({message:h}),{url:l}=await (0,u.signIn)("moralis-auth",{message:h,signature:d,redirect:!1,callbackUrl:"/user"});o(l)};return(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{children:"Web3 Authentication"}),(0,s.jsx)("button",{onClick:c,children:"Authenticate via Metamask"})]})}},11163:function(t,e,n){t.exports=n(80880)},89214:function(){},85568:function(){},52361:function(){},94616:function(){}},function(t){t.O(0,[907,719,774,888,179],function(){return t(t.s=54758)}),_N_E=t.O()}]);